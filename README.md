# Go API client for spanapi

API for device, collection, output and firmware management

## Overview
This API client was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.  By using the [OpenAPI-spec](https://www.openapis.org/) from a remote server, you can easily generate an API client.

- API version: 4.1.7 only-deshaun
- Package version: 1.0.0
- Build package: org.openapitools.codegen.languages.GoClientCodegen
For more information, please visit [https://lab5e.com/span](https://lab5e.com/span)

## Installation

Install the following dependencies:

```shell
go get github.com/stretchr/testify/assert
go get golang.org/x/oauth2
go get golang.org/x/net/context
```

Put the package under your project folder and add the following in import:

```golang
import sw "./spanapi"
```

To use a proxy, set the environment variable `HTTP_PROXY`:

```golang
os.Setenv("HTTP_PROXY", "http://proxy_name:proxy_port")
```

## Configuration of Server URL

Default configuration comes with `Servers` field that contains server objects as defined in the OpenAPI specification.

### Select Server Configuration

For using other server than the one defined on index 0 set context value `sw.ContextServerIndex` of type `int`.

```golang
ctx := context.WithValue(context.Background(), sw.ContextServerIndex, 1)
```

### Templated Server URL

Templated server URL is formatted using default variables from configuration or from context value `sw.ContextServerVariables` of type `map[string]string`.

```golang
ctx := context.WithValue(context.Background(), sw.ContextServerVariables, map[string]string{
	"basePath": "v2",
})
```

Note, enum values are always validated and all unused variables are silently ignored.

### URLs Configuration per Operation

Each operation can use different server URL defined using `OperationServers` map in the `Configuration`.
An operation is uniquely identifield by `"{classname}Service.{nickname}"` string.
Similar rules for overriding default operation server index and variables applies by using `sw.ContextOperationServerIndices` and `sw.ContextOperationServerVariables` context maps.

```
ctx := context.WithValue(context.Background(), sw.ContextOperationServerIndices, map[string]int{
	"{classname}Service.{nickname}": 2,
})
ctx = context.WithValue(context.Background(), sw.ContextOperationServerVariables, map[string]map[string]string{
	"{classname}Service.{nickname}": {
		"port": "8443",
	},
})
```

## Documentation for API Endpoints

All URIs are relative to *https://api.lab5e.com/span*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*CollectionsApi* | [**SpanBroadcastMessage**](docs/CollectionsApi.md#spanbroadcastmessage) | **Post** /collections/{collectionId}/to | Broadcast message
*CollectionsApi* | [**SpanCreateCollection**](docs/CollectionsApi.md#spancreatecollection) | **Post** /collections | Create collection
*CollectionsApi* | [**SpanDeleteCollection**](docs/CollectionsApi.md#spandeletecollection) | **Delete** /collections/{collectionId} | Delete collection
*CollectionsApi* | [**SpanListCollectionData**](docs/CollectionsApi.md#spanlistcollectiondata) | **Get** /collections/{collectionId}/data | Get payloads
*CollectionsApi* | [**SpanListCollections**](docs/CollectionsApi.md#spanlistcollections) | **Get** /collections | List collections
*CollectionsApi* | [**SpanRetrieveCollection**](docs/CollectionsApi.md#spanretrievecollection) | **Get** /collections/{collectionId} | Retrieve collection
*CollectionsApi* | [**SpanUpdateCollection**](docs/CollectionsApi.md#spanupdatecollection) | **Patch** /collections/{collectionId} | Update collection
*DatadumpApi* | [**SpanDataDump**](docs/DatadumpApi.md#spandatadump) | **Post** /datadump | Data dump
*DevicesApi* | [**SpanCreateDevice**](docs/DevicesApi.md#spancreatedevice) | **Post** /collections/{collectionId}/devices | Create device
*DevicesApi* | [**SpanDeleteDevice**](docs/DevicesApi.md#spandeletedevice) | **Delete** /collections/{collectionId}/devices/{deviceId} | Remove device
*DevicesApi* | [**SpanListDeviceData**](docs/DevicesApi.md#spanlistdevicedata) | **Get** /collections/{collectionId}/devices/{deviceId}/data | Get payloads
*DevicesApi* | [**SpanListDevices**](docs/DevicesApi.md#spanlistdevices) | **Get** /collections/{collectionId}/devices | List devices
*DevicesApi* | [**SpanRetrieveDevice**](docs/DevicesApi.md#spanretrievedevice) | **Get** /collections/{collectionId}/devices/{deviceId} | Retrieve device
*DevicesApi* | [**SpanSendMessage**](docs/DevicesApi.md#spansendmessage) | **Post** /collections/{collectionId}/devices/{deviceId}/to | Send message
*DevicesApi* | [**SpanUpdateDevice**](docs/DevicesApi.md#spanupdatedevice) | **Patch** /collections/{existingCollectionId}/devices/{deviceId} | Update device
*FotaApi* | [**SpanClearFirmwareError**](docs/FotaApi.md#spanclearfirmwareerror) | **Delete** /collections/{collectionId}/devices/{deviceId}/fwerror | Clear FOTA error
*FotaApi* | [**SpanCreateFirmware**](docs/FotaApi.md#spancreatefirmware) | **Post** /collections/{collectionId}/firmware | Create firmware
*FotaApi* | [**SpanDeleteFirmware**](docs/FotaApi.md#spandeletefirmware) | **Delete** /collections/{collectionId}/firmware/{imageId} | Delete firmware
*FotaApi* | [**SpanFirmwareUsage**](docs/FotaApi.md#spanfirmwareusage) | **Patch** /collections/{collectionId}/firmware/{imageId}/usage | Firmware usage
*FotaApi* | [**SpanListFirmware**](docs/FotaApi.md#spanlistfirmware) | **Get** /collections/{collectionId}/firmware | List firmware
*FotaApi* | [**SpanRetrieveFirmware**](docs/FotaApi.md#spanretrievefirmware) | **Get** /collections/{collectionId}/firmware/{imageId} | Retrieve firmware
*FotaApi* | [**SpanUpdateFirmware**](docs/FotaApi.md#spanupdatefirmware) | **Patch** /collections/{collectionId}/firmware/{imageId} | Update firmware
*OutputsApi* | [**SpanCreateOutput**](docs/OutputsApi.md#spancreateoutput) | **Post** /collections/{collectionId}/outputs | Create output
*OutputsApi* | [**SpanDeleteOutput**](docs/OutputsApi.md#spandeleteoutput) | **Delete** /collections/{collectionId}/outputs/{outputId} | Delete output
*OutputsApi* | [**SpanListOutputs**](docs/OutputsApi.md#spanlistoutputs) | **Get** /collections/{collectionId}/outputs | List outputs
*OutputsApi* | [**SpanLogs**](docs/OutputsApi.md#spanlogs) | **Get** /collections/{collectionId}/outputs/{outputId}/logs | Output logs
*OutputsApi* | [**SpanRetrieveOutput**](docs/OutputsApi.md#spanretrieveoutput) | **Get** /collections/{collectionId}/outputs/{outputId} | Retrieve output
*OutputsApi* | [**SpanStatus**](docs/OutputsApi.md#spanstatus) | **Get** /collections/{collectionId}/outputs/{outputId}/status | Output status
*OutputsApi* | [**SpanUpdateOutput**](docs/OutputsApi.md#spanupdateoutput) | **Patch** /collections/{collectionId}/outputs/{outputId} | Update output
*SystemApi* | [**SpanGetSystemInfo**](docs/SystemApi.md#spangetsysteminfo) | **Get** /system | System information


## Documentation For Models

 - [BroadcastMessageRequest](docs/BroadcastMessageRequest.md)
 - [CoAPMetadata](docs/CoAPMetadata.md)
 - [Collection](docs/Collection.md)
 - [CollectionFirmware](docs/CollectionFirmware.md)
 - [CollectionFirmwareFirmwareManagement](docs/CollectionFirmwareFirmwareManagement.md)
 - [CreateFirmwareRequest](docs/CreateFirmwareRequest.md)
 - [DataDumpResponse](docs/DataDumpResponse.md)
 - [Device](docs/Device.md)
 - [DumpedCollection](docs/DumpedCollection.md)
 - [DumpedDevice](docs/DumpedDevice.md)
 - [FieldMask](docs/FieldMask.md)
 - [Firmware](docs/Firmware.md)
 - [FirmwareMetadata](docs/FirmwareMetadata.md)
 - [FirmwareUsageResponse](docs/FirmwareUsageResponse.md)
 - [ListCollectionResponse](docs/ListCollectionResponse.md)
 - [ListDataResponse](docs/ListDataResponse.md)
 - [ListDevicesResponse](docs/ListDevicesResponse.md)
 - [ListFirmwareResponse](docs/ListFirmwareResponse.md)
 - [ListOutputResponse](docs/ListOutputResponse.md)
 - [MessageSendResult](docs/MessageSendResult.md)
 - [MultiSendMessageResponse](docs/MultiSendMessageResponse.md)
 - [NetworkMetadata](docs/NetworkMetadata.md)
 - [Output](docs/Output.md)
 - [OutputConfig](docs/OutputConfig.md)
 - [OutputDataMessage](docs/OutputDataMessage.md)
 - [OutputDataMessageOutputMessageType](docs/OutputDataMessageOutputMessageType.md)
 - [OutputLogEntry](docs/OutputLogEntry.md)
 - [OutputLogResponse](docs/OutputLogResponse.md)
 - [OutputStatusResponse](docs/OutputStatusResponse.md)
 - [OutputType](docs/OutputType.md)
 - [ProtobufAny](docs/ProtobufAny.md)
 - [RpcStatus](docs/RpcStatus.md)
 - [SendMessageRequest](docs/SendMessageRequest.md)
 - [SystemInfoResponse](docs/SystemInfoResponse.md)
 - [UDPMetadata](docs/UDPMetadata.md)
 - [UpdateDeviceRequest](docs/UpdateDeviceRequest.md)


## Documentation For Authorization



### APIToken

- **Type**: API key
- **API key parameter name**: X-API-Token
- **Location**: HTTP header

Note, each API key must be added to a map of `map[string]APIKey` where the key is: X-API-Token and passed in as the auth context for each request.


## Documentation for Utility Methods

Due to the fact that model structure members are all pointers, this package contains
a number of utility functions to easily obtain pointers to values of basic types.
Each of these functions takes a value of the given basic type and returns a pointer to it:

* `PtrBool`
* `PtrInt`
* `PtrInt32`
* `PtrInt64`
* `PtrFloat`
* `PtrFloat32`
* `PtrFloat64`
* `PtrString`
* `PtrTime`

## Author

dev@lab5e.com

